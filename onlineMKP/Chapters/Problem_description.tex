% !TEX root = sum1.tex
\section{Seat Planning Problem with Social Distancing}\label{problem_description}

\subsection{Concepts}
Consider $N$ knapsacks, with each knapsack $j$ containing $C_j \in \mathbb{Z}^{+}$ capacities, for $j \in \mathcal{N} \coloneqq \{1,2, \ldots, N\}$. There are $M$ distinct item types, where each item type $i$, $i \in \mathcal{M} \coloneqq \{1, 2, \ldots, M\}$, requiring $w_i \in \mathbb{Z}^{+}$ consecutive size in one capacity. The profit of each item type $i$ is $r_{i} \in \mathbb{Z}^{+}$. The request of each item type is represented by a demand vector $\mathbf{d} = (d_1, d_2, \ldots, d_M)^{\intercal}$, where $d_i$ is the number of groups of type $i$.

We now formulate the multi-class multiple knapsack problem (MMKP) as an integer programming, where $x_{ij}$ represents the number of items of type $i$ placed in knapsack $j$.

\begin{align}
(\text{MMKP}) \quad \max \quad & \sum_{i=1}^{M}  \sum_{j= 1}^{N} r_{i} x_{ij} \label{e0} \\
\text {s.t.} \quad & \sum_{j= 1}^{N} x_{ij} \leq d_{i}, \quad i \in \mathcal{M}, \label{deter_upper}\\ 
& \sum_{i=1}^{M} w_{i} x_{ij} \leq C_j, j \in \mathcal{N}, \label{capa_con} \\
& x_{ij} \in \mathbb{N}, \quad i \in \mathcal{M}, j \in \mathcal{N}. \notag 
\end{align}


The objective function (\ref{e0}) is to maximize the number of individuals accommodated. Constraint \eqref{deter_upper} ensures the total number of accommodated groups does not exceed the number of requests for each group type. Constraint \eqref{capa_con} stipulates that the number of seats allocated in each row does not exceed the size of the row.


Suppose that the profit-weight ratio is increasing monotone. The increasing nature of the ratio $\frac{r_i}{w_i}$ with respect to type $i$ leads to preferential inclusion of larger items in the optimal fractional assignment. This intuitive property is illustrated in Proposition \ref{sol_relax_deter}. 

% By examining the monotonic ratio of $\frac{i}{n_i}$, we can establish the upper bound of supply corresponding to the optimal solution of the LP relaxation of SPDR problem.

\begin{prop}\label{sol_relax_deter}
For the LP relaxation of the \textup{MMKP} problem, there exists an index $\tilde{i}$ such that the optimal solutions satisfy the following conditions: $x_{ij}^{*} = 0$ for all $j$, $i = 1,\ldots, \tilde{i}-1$; $\sum_{j=1}^{N} x_{ij}^{*} = d_{i}$ for $i = \tilde{i}+1,\ldots, M$; $\sum_{j=1}^{N} x_{ij}^{*} = \frac{L - \sum_{i = \tilde{i}+1}^{M} {d_i w_i}}{w_{\tilde{i}}}$ for $i = \tilde{i}$.
\end{prop}